1:HL["/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2",{"as":"font","type":"font/woff2"}]
2:HL["/_next/static/css/19fb18cc819f362f.css",{"as":"style"}]
0:["9NQyGVh2lsB2Tc7RcLNf_",[[["",{"children":["__PAGE__",{}]},"$undefined","$undefined",true],"$L3",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/19fb18cc819f362f.css","precedence":"next"}]],"$L4"]]]]
5:I{"id":3015,"chunks":["835:static/chunks/835-98d773ba05c6e15b.js","185:static/chunks/app/layout-e738da3c66daee7f.js"],"name":"","async":false}
7:I{"id":6685,"chunks":["835:static/chunks/835-98d773ba05c6e15b.js","185:static/chunks/app/layout-e738da3c66daee7f.js"],"name":"","async":false}
8:I{"id":464,"chunks":["835:static/chunks/835-98d773ba05c6e15b.js","185:static/chunks/app/layout-e738da3c66daee7f.js"],"name":"Navlinks","async":false}
9:I{"id":7767,"chunks":["272:static/chunks/webpack-ba12b6bfadc156e2.js","971:static/chunks/fd9d1056-c9eb6f688b3961a6.js","596:static/chunks/596-547d92dce03e0a0e.js"],"name":"default","async":false}
a:I{"id":7920,"chunks":["272:static/chunks/webpack-ba12b6bfadc156e2.js","971:static/chunks/fd9d1056-c9eb6f688b3961a6.js","596:static/chunks/596-547d92dce03e0a0e.js"],"name":"default","async":false}
b:I{"id":3222,"chunks":["222:static/chunks/222-6eee7aea458bad19.js","931:static/chunks/app/page-027dd4d6a86af49c.js"],"name":"Image","async":false}
c:I{"id":160,"chunks":["835:static/chunks/835-98d773ba05c6e15b.js","185:static/chunks/app/layout-e738da3c66daee7f.js"],"name":"Footer","async":false}
d:I{"id":209,"chunks":["835:static/chunks/835-98d773ba05c6e15b.js","185:static/chunks/app/layout-e738da3c66daee7f.js"],"name":"CookieConsent","async":false}
6:T68e,
                window.dataLayer = window.dataLayer || [];
                function gtag() {
                    dataLayer.push(arguments);
                }

                (function initConsent() {
                    const consentPropertyType = 'site_consent';
                    const cookies = document.cookie
                        .split(';')
                        .map(cookie => cookie.split('='))
                        .reduce((acc, [consentPropertyType, value]) => ({...acc, [consentPropertyType.trim()] : value}), {});
                    
                    const hasConsented = () => cookies[consentPropertyType] === "true" ? true : false;
                    
                    let consentPayload = {
                        ad_storage: hasConsented() ? "granted" : "denied",
                        analytics_storage: hasConsented() ? "granted" : "denied",
                        facebook: hasConsented() ? "granted" : "denied"
                    }
                    
                    if (!hasConsented()) {
                        consentPayload.wait_for_update = 2000 // milliseconds
                    }
                    gtag("consent", "default", consentPayload);
                })();
                
                (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                })(window,document,'script','dataLayer','GTM-KQ6C9F2');
            3:[["$","html",null,{"lang":"ru","children":["$","body",null,{"className":"__className_e66fe9","children":[["$","div",null,{"className":"wrapper","children":[["$","$L5",null,{"id":"google-tag-manager","strategy":"afterInteractive","children":"$6"}],["$","nav",null,{"className":"navbar navbar-expand-md navbar-dark bg-dark","children":["$","div",null,{"className":"container-fluid","children":[["$","$L7",null,{"className":"navbar-brand","href":"/","children":"Frontol Service Addon"}],["$","button",null,{"className":"navbar-toggler","type":"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation","children":["$","span",null,{"className":"navbar-toggler-icon"}]}],["$","header",null,{"className":"collapse navbar-collapse","id":"navbarSupportedContent","children":["$","$L8",null,{}]}]]}]}],["$","div",null,{"className":"content container-xxl my-md-4 bd-layout","children":["$","main",null,{"children":["$","$L9",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$La",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":[["$","div",null,{"className":"container","children":[["$","h1",null,{"children":"Причины роста базы данных Frontol"}],["$","p",null,{"children":["Если у вас большой справочник товаров, вы можете столкнуться с ростом базы данных Frontol. Проблема возникает из за роста таблицы ",["$","strong",null,{"children":"Remaind"}],". При каждой новой загрузке остатков из товароучетной системы возникают новые записи в таблице, к сожалению старые записи удаляются не всегда."]}],["$","h2",null,{"children":"Используйте стандартные настроки Frontol"}],["$","$Lb",null,{"className":"img-fluid rounded mx-auto d-block mb-3","src":"/img/SystemDb.jpg","width":946,"height":501,"priority":true,"alt":"Настроки свертки остатков"}],["$","p",null,{"children":["Возможно вам следует воспользоваться стандартными настройками фронтол. Установите галочки свертка ",["$","strong",null,{"children":"счетчиков"}]," и свертка ",["$","strong",null,{"children":"остатков"}],"Если ваш справочник товара не большой вам должно помочь."]}],["$","h2",null,{"children":"Не помогает?"}],["$","p",null,{"children":["Попробуем понять почему это происходит. За свертку остатков во frontol отвечает stored procedure ",["$","strong",null,{"children":"Remaind_collapse"}],". В этой процедуре происходит чтение остатков из таблицы ",["$","strong",null,{"children":"Remaind"}],". Добавление новых записей с остатками и удаление всех старых записей. Если у вас число записей достаточно большое мы получаем",["$","a",null,{"href":"https://www.ibase.ru/45-ways-to-improve-firebird-performance-russian/","children":" длинную пишущую транзакцию"}],". Для слабых кассовых компьютеров это не сработает и данных их таблицы не удалятся. В дальнейшем это вызовет рост размера базы данных, медленное открывание окна поиска товара ну и самой главное увеличение частоты ",["$","strong",null,{"children":"повреждений"}]," базы данных."]}],["$","h2",null,{"children":"Решение"}],["$","p",null,{"children":"Очевидно необходимо сократить количество изменяемых элементов за одну транзакцию. Разделить свертку на пакеты например по 10 элементов. Таким образом мы избавимся от длинной транзации. Читаем например первые 10 записей, более 4 копий. Удаляем и записываем повторно"}],["$","p",null,{"children":["$","code",null,{"children":["SELECT FIRST 10 REMAINID, SUM(IIF(DTYPE = 0, DELTA, 0))AS SUMMA0, SUM(IIF(DTYPE = 1, DELTA, 0)) AS SUMMA1 ",["$","br",null,{}],"FROM REMAIND RD ",["$","br",null,{}],"GROUP BY REMAINID ",["$","br",null,{}],"HAVING COUNT(ID) > 4"]}]}],["$","p",null,{"children":["$","code",null,{"children":["DELETE FROM REMAIND ",["$","br",null,{}]," WHERE REMAINID=:RemainId"]}]}],["$","p",null,{"children":["$","code",null,{"children":["INSERT INTO REMAIND(ID, REMAINID, DELTA, CHNG, DTYPE) ",["$","br",null,{}],"VALUES (GEN_ID(GREMAIND, 1), :RemainId, :Summa0, -1, 0)"]}]}],["$","p",null,{"children":["$","code",null,{"children":["INSERT INTO REMAIND(ID, REMAINID, DELTA, CHNG, DTYPE) ",["$","br",null,{}],"VALUES (GEN_ID(GREMAIND, 1), :RemainId, :Summa1, -1, 1)"]}]}],["$","h2",null,{"children":"Реализация"}],["$","p",null,{"children":["Написана утилита которая запускается при открытии Frontol. Утилита сворачивается в Trey так чтобы кассир не смог закрыть ее случайно. Она запускает процедуру свертки остатков в течении рабочего дня, не мешая при этом кассиру. Также утилита позволяет выгружать справочник товаров, продажные цены, минимально допустимые цены, остатки. Эту информацию мы используем как обратную связь в товароучетной системе. То есть мы знаем какая информация содержится в базе данных каждой кассы и выгружаем только измененные данные. Это сокращает разрастание таблицы ",["$","strong",null,{"children":"Remaind"}],"."]}],["$","div",null,{"className":"btn-download","children":["$","a",null,{"href":"download","className":"btn btn-primary btn-lg","role":"button","children":"Скачать"}]}],["$","h2",null,{"children":"Вывод."}],["$","p",null,{"children":"На форуме frontol существую темы с этой проблемой но к сожалению решения от разработчиков пока нет. Видимо проблема не совсем актуальна."}]]}],null],"segment":"__PAGE__"},"styles":[]}]}]}],["$","$Lc",null,{}]]}],["$","$Ld",null,{}]]}]}],null]
4:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Решение проблемы роста базы данных Frontol"}],["$","meta","2",{"name":"description","content":"Утилита для обслуживания баз данных Frontol, решает проблему роста базы данных"}],["$","meta","3",{"name":"keywords","content":"Frontol cветка, Фронтол тормозит поиск, Frontol рост базы данных, Frontol remaind"}],["$","meta","4",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","link","5",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"any"}],["$","meta","6",{"name":"next-size-adjust"}]]
